{"version":3,"file":"js/593.589b5979.js","mappings":"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","sources":["webpack://jingdong/./src/utils/useCart.js","webpack://jingdong/./src/components/ShopInfo.vue","webpack://jingdong/./src/components/ShopInfo.vue?3071","webpack://jingdong/./src/components/Content.vue","webpack://jingdong/./src/components/Content.vue?d0e5","webpack://jingdong/./src/components/Cart.vue","webpack://jingdong/./src/components/Cart.vue?186f","webpack://jingdong/./src/views/Shop/Shop.vue","webpack://jingdong/./src/views/Shop/Shop.vue?32e7"],"sourcesContent":["import { computed } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport const useCart = (shopId) => {\r\n  const store = useStore()\r\n  const cartList = store.state.cartList\r\n  const changeCart = (shopId, productId, productInfo, num) => {\r\n    store.commit('changeCart', {\r\n      shopId, productId, productInfo, num\r\n    })\r\n  }\r\n  const productList = computed(() => {\r\n    const productList = cartList[shopId]?.productList || []\r\n    const finalList = {}\r\n    for (const productId in productList) {\r\n      const product = productList[productId]\r\n      if (product.count > 0) {\r\n        finalList[productId] = product\r\n      }\r\n    }\r\n    return finalList\r\n  })\r\n\r\n  const shopName = computed(() => cartList[shopId]?.shopName || '')\r\n\r\n  const calculations = computed(() => {\r\n    const result = {\r\n      totalCount: 0,\r\n      totalPrice: 0,\r\n      allChecked: true\r\n    }\r\n    const productList = cartList[shopId]?.productList\r\n    if (productList) {\r\n      for (const productId in productList) {\r\n        const product = productList[productId]\r\n        result.totalCount += product.count\r\n        if (product.check) {\r\n          result.totalPrice += product.count * product.price\r\n        }\r\n        if (!product.check && product.count > 0) {\r\n          result.allChecked = false\r\n        }\r\n      }\r\n    }\r\n    result.totalPrice = result.totalPrice.toFixed(2)\r\n    return result\r\n  })\r\n  return { cartList, changeCart, productList, shopName, calculations }\r\n}\r\n","<script setup>\nimport { defineProps } from 'vue'\n\ndefineProps(['item', 'hideBorder'])\n</script>\n\n<script>\nexport default {\n  name: 'ShopInfo'\n}\n</script>\n\n<template>\n  <div class=\"shop\">\n    <img :src=\"item.imgUrl\" class=\"shop__img\">\n    <div\n      :class=\"{'shop__content': true, 'shop__content--bordered': hideBorder ? false: true}\"\n    >\n      <div class=\"shop__content__title\">{{ item.name }}</div>\n      <div class=\"shop__content__tags\">\n        <span class=\"shop__content__tag\">月售: {{ item.sales }}</span>\n        <span class=\"shop__content__tag\">起送: {{ item.expressLimit }}</span>\n        <span class=\"shop__content__tag\">基础运费: {{ item.expressPrice }}</span>\n      </div>\n      <span class=\"shop__content__highlight\">{{ item.slogan }}</span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../style/variables.scss';\n.shop {\n  display: flex;\n  &__img {\n    margin-right: .16rem;\n    width: .56rem;\n    height: .56rem;\n  }\n  &__content {\n    flex: 1;\n    padding-bottom: .12rem;\n    &--bordered {\n      border-bottom: 1px solid $content-bgColor;\n    }\n    &__title {\n      line-height: .22rem;\n      font-size: .16rem;\n      color: $content-fontcolor;\n    }\n    &__tags {\n      margin-top: .08rem;\n      line-height: .18rem;\n      font-size: .13rem;\n      color: $content-fontcolor;\n    }\n    &__tag {\n      margin-right: .16rem;\n    }\n    &__highlight {\n      display: inline-block;\n      margin: .08rem 0 0 0;\n      line-height: .18rem;\n      font-size: .13rem;\n      color: #E93B3B;\n    }\n  }\n}\n</style>\n","import script from \"./ShopInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShopInfo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShopInfo.vue?vue&type=style&index=0&id=b12dbcd4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b12dbcd4\"]])\n\nexport default __exports__","<script setup>\nimport { ref, watchEffect, defineProps } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { get } from '../utils/request'\nimport { useCart } from '../utils/useCart'\nimport store from '@/store'\n// import store from '../store/index'\n\nconst route = useRoute()\nconst { cartList, changeCart } = useCart()\n\nconst categories = [{\n  name: '全部商品',\n  tab: 'all'\n}, {\n  name: '秒杀',\n  tab: 'seckill'\n}, {\n  name: '新鲜水果',\n  tab: 'fruit'\n}]\n\ndefineProps(['shopName'])\n\nconst shopId = route.params.id\n\nfunction changeCartItem (shopId, productId, productInfo, num, shopName) {\n  changeCart(shopId, productId, productInfo, num)\n  store.commit('changeShopName', {\n    shopId,\n    shopName\n  })\n}\n\nfunction handleCategoryClick (category) {\n  currentTab.value = category\n  getCategory(category)\n}\n\nconst contentList = ref([])\nconst currentTab = ref(categories[0].tab)\n\nasync function getCategory (category) {\n  const result = await get(`/api/shop/${shopId}/products`, { category })\n  if (result?.errno === 0 && result?.data?.length) {\n    contentList.value = result.data\n  }\n}\nwatchEffect(() => getCategory(currentTab))\n</script>\n\n<script>\nexport default {\n  name: 'ContentView'\n}\n</script>\n\n<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <div\n        :class=\"{\n          'category__item': true,\n          'category__item--active': currentTab === category.tab\n        }\"\n        v-for=\"category in categories\"\n        :key=\"category.name\"\n        @click=\"handleCategoryClick(category.tab)\">\n        {{ category.name }}\n      </div>\n    </div>\n    <div class=\"product\">\n      <div\n        class=\"product__item\"\n        v-for=\"item in contentList\"\n        :key=\"item._id\"\n      >\n        <img class=\"product__item__img\" :src=\"item.imgUrl\" />\n        <div class=\"product__item__detail\">\n          <span class=\"product__item__title\">{{ item.name }}</span>\n          <span class=\"product__item__sales\">月售{{ item.sales }}件</span>\n          <div class=\"product__item__price\">\n            <span class=\"product__item__yen\">{{ item.price }}</span>\n            <span class=\"product__item__origin\">{{ item.oldPrice }}</span>\n          </div>\n        </div>\n        <div class=\"product__number\">\n          <span\n            class=\"product__number__minus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, -1, shopName) }\"\n          >&#xe648;</span>\n            {{cartList?.[shopId]?.productList?.[item._id]?.count || 0}}\n          <span\n            class=\"product__number__plus iconfont\"\n            @click=\"() => { changeCartItem(shopId, item._id, item, 1, shopName) }\"\n          >&#xe7e0;</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../style/variables.scss';\n@import '../style/mixins.scss';\n.content {\n  display: flex;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 1.5rem;\n  bottom: .5rem;\n}\n.category {\n  overflow-y: scroll;\n  height: 100%;\n  width: .76rem;\n  background: $search-bgColor;\n  &__item {\n    line-height: .4rem;\n    text-align: center;\n    font-size: 14px;\n    color: #333;\n    &--active {\n      background: $bgColor;\n    }\n  }\n}\n.product {\n  overflow-y: scroll;\n  flex: 1;\n  &__item {\n    position: relative;\n    display: flex;\n    padding: .12rem 0;\n    margin: 0 .16rem;\n    border-bottom: .01rem solid $content-bgColor;\n    &__detail {\n      overflow: hidden;\n    }\n    &__img {\n      width: .68rem;\n      height: .68rem;\n      margin-right: .16rem;\n    }\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__sales {\n      display: block;\n      margin: .06rem 0;\n      font-size: .12rem;\n      color: $content-fontcolor;\n    }\n    &__price {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n    &__origin {\n      margin-left: .06rem;\n      line-height: .2rem;\n      font-size: .12rem;\n      color: $light-fontColor;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: .12rem;\n      &__minus {\n        color: $medium-fontColor;\n        margin-right: .05rem;\n      }\n      &__plus {\n        position: relative;\n        bottom: .005rem;\n        color: $btn-bgColor;\n        margin-left: .05rem;\n      }\n    }\n  }\n}\n</style>\n","import script from \"./Content.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Content.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Content.vue?vue&type=style&index=0&id=a8b76bde&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a8b76bde\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nimport { useCart } from '../utils/useCart'\r\n\r\nconst store = useStore()\r\nconst route = useRoute()\r\nconst shopId = route.params.id\r\nconst { changeCart, productList, calculations } = useCart(shopId) // change\r\n// const cartList = store.state.cartList\r\n// const { changeCart } = useCart()\r\n\r\nfunction handleCartShow () {\r\n  showCart.value = !showCart.value\r\n}\r\n\r\nconst showCart = ref(false)\r\n\r\nfunction handleCheck (productId) {\r\n  store.commit('handleCheck', { shopId, productId })\r\n}\r\n\r\nfunction checkAll () {\r\n  store.commit('checkAll', { shopId })\r\n}\r\n\r\nfunction clearAll () {\r\n  store.commit('clearAll', { shopId })\r\n}\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CartView'\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div\r\n    class=\"mask\"\r\n    v-if=\"showCart && calculations.totalCount > 0\"\r\n    @click=\"handleCartShow\"\r\n  />\r\n  <div class=\"cart\">\r\n    <div class=\"product\" v-if=\"showCart  && calculations.totalCount > 0\">\r\n      <div class=\"product__header\">\r\n        <div\r\n          class=\"product__header__all\"\r\n          @click=\"() => checkAll()\"\r\n        >\r\n          <span\r\n            class=\"product__header__icon iconfont\"\r\n            v-html=\"calculations.allChecked ? '&#xe618;': '&#xe619;'\"\r\n          >\r\n          </span>\r\n          全选\r\n        </div>\r\n        <div\r\n          class=\"product__header__clear\"\r\n        >\r\n          <span\r\n            class=\"product__header__clear__btn\"\r\n            @click=\"clearAll\">\r\n            清空购物车\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <template\r\n        v-for=\"item in productList\"\r\n        :key=\"item._id\">\r\n        <div\r\n          class=\"product__item\"\r\n          v-if=\"item.count > 0\"\r\n        >\r\n          <div\r\n            class=\"product__item__checked iconfont\"\r\n            v-html=\"item.check ? '&#xe618;': '&#xe619;'\"\r\n            @click=\"() => handleCheck(item._id)\"\r\n          ></div>\r\n          <img class=\"product__item__img\" :src=\"item.imgUrl\" />\r\n          <div class=\"product__item__detail\">\r\n            <span class=\"product__item__title\">{{ item.name }}</span>\r\n            <div class=\"product__item__price\">\r\n              <span class=\"product__item__yen\">{{ item.price }}</span>\r\n              <span class=\"product__item__origin\">{{ item.oldPrice }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"product__number\">\r\n            <span\r\n              class=\"product__number__minus iconfont\"\r\n              @click=\"changeCart(shopId, item._id, item, -1)\">&#xe648;</span>\r\n            {{ item.count || 0 }}\r\n            <span\r\n              class=\"product__number__plus iconfont\"\r\n              @click=\"changeCart(shopId, item._id, item, 1)\"\r\n            >&#xe7e0;</span>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n    <div class=\"check\">\r\n      <div class=\"check__icon\">\r\n        <img\r\n          src=\"http://www.dell-lee.com/imgs/vue3/basket.png\"\r\n          class=\"check__icon__img\"\r\n          @click=\"handleCartShow\"\r\n        />\r\n        <div class=\"check__icon__tag\">{{ calculations.totalCount }}</div>\r\n      </div>\r\n      <div class=\"check__info\">\r\n      总计：<span class=\"check__info__price\">&yen;{{ calculations.totalPrice }}</span>\r\n      </div>\r\n      <div class=\"check__btn\" v-show=\"calculations.totalCount > 0\">\r\n        <RouterLink :to=\"{path:`/confirmOrder/${shopId}`}\">去结算</RouterLink>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../style/variables.scss';\r\n@import '../style/mixins.scss';\r\n.mask {\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  background: rgba(0, 0, 0, .5);\r\n  z-index: 1;\r\n}\r\n.cart {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 2;\r\n  background: $bgColor;\r\n}\r\n.check {\r\n  display: flex;\r\n  height: .49rem;\r\n  border-top: .01rem solid $content-bgColor;\r\n  line-height: .49rem;\r\n  &__icon {\r\n    position: relative;\r\n    width: .84rem;\r\n    &__img {\r\n      display: block;\r\n      margin: .12rem auto;\r\n      width: .28rem;\r\n      height: .26rem;\r\n    }\r\n    &__tag {\r\n      position: absolute;\r\n      left: .46rem;\r\n      top: .04rem;\r\n      padding: 0 .04rem;\r\n      min-width: .2rem;\r\n      height: .2rem;\r\n      line-height: .2rem;\r\n      background-color: $hightlight-fontColor;\r\n      border-radius: 50%;\r\n      font-size: .12rem;\r\n      text-align: center;\r\n      color: $bgColor;\r\n      transform: scale(.5);\r\n      transform-origin: left center;\r\n    }\r\n  }\r\n  &__info {\r\n    flex: 1;\r\n    color: $content-fontcolor;\r\n    font-size: .12rem;\r\n    &__price {\r\n      line-height: .49rem;\r\n      color: $hightlight-fontColor;\r\n      font-size: .18rem;\r\n    }\r\n  }\r\n  &__btn {\r\n    width: .98rem;\r\n    background-color: #4FB0F9;\r\n    text-align: center;\r\n    color: $bgColor;\r\n    font-size: .14rem;\r\n    a {\r\n      color: $bgColor;\r\n      text-decoration: none;\r\n    }\r\n  }\r\n}\r\n.product {\r\n  overflow-y: scroll;\r\n  flex: 1;\r\n  background: $bgColor;\r\n  &__header {\r\n    display: flex;\r\n    line-height: .52rem;\r\n    border-bottom: .01rem solid $content-bgColor;\r\n    font-size: .14rem;\r\n    color: $content-fontcolor;\r\n    &__all {\r\n      width: .64rem;\r\n      margin-left: .18rem;\r\n    }\r\n    &__icon {\r\n      display: inline-block;\r\n      vertical-align: bottom;\r\n      margin-right: .1rem;\r\n      color: $btn-bgColor;\r\n      font-size: .2rem;\r\n    }\r\n    &__clear {\r\n      flex: 1;\r\n      margin-right: .16rem;\r\n      text-align: right;\r\n      &__btn {\r\n        display: inline-block;\r\n      }\r\n    }\r\n  }\r\n  &__item {\r\n    position: relative;\r\n    display: flex;\r\n    padding: .12rem 0;\r\n    margin: 0 .16rem;\r\n    border-bottom: .01rem solid $content-bgColor;\r\n    &__checked {\r\n      line-height: .5rem;\r\n      margin-right: .2rem;\r\n      color: $btn-bgColor;\r\n      font-size: .2rem;\r\n    }\r\n    &__detail {\r\n      overflow: hidden;\r\n    }\r\n    &__img {\r\n      width: .46rem;\r\n      height: .46rem;\r\n      margin-right: .16rem;\r\n    }\r\n    &__title {\r\n      margin: 0;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $content-fontcolor;\r\n      @include ellipsis;\r\n    }\r\n    &__price {\r\n      margin: .06rem 0 0 0;\r\n      line-height: .2rem;\r\n      font-size: .14rem;\r\n      color: $hightlight-fontColor;\r\n    }\r\n    &__yen {\r\n      font-size: .12rem;\r\n    }\r\n    &__origin {\r\n      margin-left: .06rem;\r\n      line-height: .2rem;\r\n      font-size: .12rem;\r\n      color: $light-fontColor;\r\n      text-decoration: line-through;\r\n    }\r\n    .product__number {\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: .14rem;\r\n      &__minus {\r\n        position: relative;\r\n        top: .01rem;\r\n        color: $medium-fontColor;\r\n        margin-right: .05rem;\r\n      }\r\n      &__plus {\r\n        position: relative;\r\n        top: .01rem;\r\n        color: $btn-bgColor;\r\n        margin-left: .05rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./Cart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Cart.vue?vue&type=style&index=0&id=e3ef49b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e3ef49b0\"]])\n\nexport default __exports__","<script setup>\r\nimport { ref } from 'vue'\r\nimport { useRouter, useRoute } from 'vue-router'\r\nimport { get } from '../../utils/request'\r\nimport ShopInfo from '../../components/ShopInfo'\r\nimport Content from '../../components/Content'\r\nimport Cart from '../../components/Cart.vue'\r\n\r\nconst router = useRouter()\r\nconst route = useRoute()\r\n\r\nconst item = ref({})\r\nasync function getShopInfo () {\r\n  const result = await get(`/api/shop/${route.params.id}`)\r\n  if (result?.errno === 0 && result?.data) {\r\n    item.value = result.data\r\n  }\r\n}\r\ngetShopInfo()\r\n\r\nfunction handleBackClick () {\r\n  router.back()\r\n}\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ShopView'\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"search\">\r\n      <div\r\n        class=\"search__back iconfont\"\r\n        @click=\"handleBackClick\"\r\n      >&#xe697;</div>\r\n      <div class=\"search__content\">\r\n        <span class=\"search__content__icon iconfont\">&#xe62d;</span>\r\n        <input\r\n        class=\"search__content__input\"\r\n        placeholder=\"请输入商品名称\"\r\n      />\r\n      </div>\r\n    </div>\r\n    <ShopInfo :item=\"item\" :hideBorder=\"true\" v-show=\"item.imgUrl\" />\r\n    <Content :shopName=\"item.name\"/>\r\n    <Cart />\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/variables.scss';\r\n.wrapper {\r\n  padding: 0 .18rem;\r\n}\r\n.search {\r\n  display: flex;\r\n  margin: .2rem 0 .16rem 0;\r\n  // line-height: .32rem;\r\n  &__back {\r\n    width: .3rem;\r\n    font-size: .24rem;\r\n    color: #B6B6B6;\r\n  }\r\n  &__content {\r\n    display: flex;\r\n    flex: 1;\r\n    background: #F5F5F5;\r\n    border-radius: .16rem;\r\n    &__icon {\r\n      width: .44rem;\r\n      text-align: center;\r\n      color: #B7B7B7;\r\n    }\r\n    &__input {\r\n      display: block;\r\n      width: 100%;\r\n      padding-right: .2rem;\r\n      border: none;\r\n      outline: none;\r\n      background: none;\r\n      height: .32rem;\r\n      font-size: .14rem;\r\n      color: $content-fontcolor;\r\n      &::placeholder {\r\n        color: $content-fontcolor;\r\n      }\r\n    }\r\n  }\r\n}\r\n  </style>\r\n","import script from \"./Shop.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Shop.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Shop.vue?vue&type=style&index=0&id=26262f50&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-26262f50\"]])\n\nexport default __exports__"],"names":["useCart","shopId","store","useStore","cartList","state","changeCart","productId","productInfo","num","commit","productList","computed","finalList","product","count","shopName","calculations","result","totalCount","totalPrice","allChecked","check","price","toFixed","__default__","name","__exports__","route","useRoute","categories","tab","params","id","changeCartItem","handleCategoryClick","category","currentTab","value","getCategory","contentList","ref","async","get","errno","data","length","watchEffect","handleCartShow","showCart","handleCheck","checkAll","clearAll","router","useRouter","item","getShopInfo","handleBackClick","back"],"sourceRoot":""}