"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[376],{855:function(s,e,a){a.d(e,{Z:function(){return w},S:function(){return u}});var n=a(3396),t=a(7139),o=a(4870);const r={class:"toast"},p={name:"ToastView"},u=()=>{const s=(0,o.qj)({show:!1,toastMessage:""}),e=e=>{s.show=!0,s.toastMessage=e,setTimeout((()=>{s.show=!1,s.toastMessage=""}),2e3)},{show:a,toastMessage:n}=(0,o.BK)(s);return{show:a,toastMessage:n,showToast:e}};var i=Object.assign(p,{props:["message"],setup(s){return(e,a)=>((0,n.wg)(),(0,n.iD)("div",r,(0,t.zw)(s.message),1))}}),c=a(89);const l=(0,c.Z)(i,[["__scopeId","data-v-47d92612"]]);var w=l},1376:function(s,e,a){a.r(e),a.d(e,{default:function(){return h}});a(7658);var n=a(3396),t=a(9242),o=a(4870),r=a(2483),p=a(5088),u=a(855);const i=s=>((0,n.dD)("data-v-7e1f2d42"),s=s(),(0,n.Cn)(),s),c={class:"wrapper"},l=i((()=>(0,n._)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1))),w={class:"wrapper__input"},d={class:"wrapper__input"},g={name:"LoginView"};var _=Object.assign(g,{setup(s){const e=(0,r.tv)(),a=(0,o.qj)({username:"",password:""}),{show:i,toastMessage:g,showToast:_}=(0,u.S)();async function m(){try{const s=await(0,p.v)("/api/user/login",{username:a.username,password:a.password});0===s?.errno?(localStorage.isLogin=!0,e.push({name:"Home"})):_("登录失败")}catch(s){_("请求失败")}}function v(){e.push({name:"Register"})}return(s,e)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",c,[l,(0,n._)("div",w,[(0,n.wy)((0,n._)("input",{class:"wrapper__input__content",placeholder:"用户名","onUpdate:modelValue":e[0]||(e[0]=s=>a.username=s)},null,512),[[t.nr,a.username]])]),(0,n._)("div",d,[(0,n.wy)((0,n._)("input",{type:"password",class:"wrapper__input__content",placeholder:"请输入密码","onUpdate:modelValue":e[1]||(e[1]=s=>a.password=s)},null,512),[[t.nr,a.password]])]),(0,n._)("div",{class:"wrapper__login-button",onClick:m},"登陆"),(0,n._)("div",{class:"wrapper__login-link",onClick:v},"立即注册")]),(0,o.SU)(i)?((0,n.wg)(),(0,n.j4)(u.Z,{key:0,message:(0,o.SU)(g)},null,8,["message"])):(0,n.kq)("",!0)],64))}}),m=a(89);const v=(0,m.Z)(_,[["__scopeId","data-v-7e1f2d42"]]);var h=v}}]);
//# sourceMappingURL=376.c4ba6116.js.map